<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <title>Select Connection Type</title>
</head>
<body>
<h1>Select Connection Type</h1>
<form method="post" id="connection-form">
    {% csrf_token %}
    <label>
        <input type="radio" name="connection_type" value="long_polling" required>
        HTTP Long Polling
    </label><br>
    <label>
        <input type="radio" name="connection_type" value="websocket" required>
        WebSockets
    </label><br>
    <label>
        <input type="radio" name="connection_type" value="push" required>
        Firebase Push Notifications
    </label><br>
    <button type="submit">Submit</button>
</form>

<script>
    document.getElementById('connection-form').addEventListener('submit', function(event) {
        event.preventDefault(); // Prevent default form submission
        const connectionType = document.querySelector('input[name="connection_type"]:checked').value;

        if (connectionType === 'websocket') {
            // Redirect to the WebSocket alerts page
            window.location.href = "{% url 'alerts_websocket' %}"; // Adjust the URL name as necessary
        } else {
            // Handle other connection types here (e.g., long polling, push notifications)
            alert('Connection type selected: ' + connectionType);
            // You can redirect to the respective pages for long polling and push notifications if needed.
        }
    });
</script>
</body>
</html>


